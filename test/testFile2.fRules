interface A {
    foo?: Number;
    bar: String | Timestamp;
}

interface B {
    value: Bool;
}

match /collection/[item] {
    read, delete: {
        if item.a == true {
            return item only B;
        }
        if item is B {
            return true
        }
        return item is A;
    },
    write: resource only A;
    match /subCollection/[othertings] {
        read: resource is A;
    }
}
