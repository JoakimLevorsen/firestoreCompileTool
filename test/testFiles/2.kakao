interface User {
    name: String;
    displayName?: String;
}

interface Resturant {
    name: String;
    location: Geopoint;
    url?: String;
    owner: String;
}

interface Review {
    title: String;
    stars: Number;
    imageURL?: String |Â Number;
    user: String;
}

match /users/{user} {
    read: request.auth != null;
    write: {
        if request.auth.uid == doc.id {
            return doc isOnly User || false;
        }
        return false;
    }
}

match /resturants/{resturant} {
    read: request.auth != null;
    create: {
        if doc isOnly Resturant {
            return doc.owner == request.auth.uid;
        }
        return false;
    }
    write: {
        if resource.owner == request.auth.uid {
            return doc isOnly Resturant;
        }
        return false;
    }
    match /reviews/{review} {
        read: request.auth != null;
        create: {
            if doc isOnly Review {
                return doc.user == request.auth.uid;
            }
            return false;
        }
        delete: resource.user == request.auth.uid;
    }
}